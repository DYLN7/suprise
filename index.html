<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Letter</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #fff0f3; /* Pink sangat soft */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: "Times New Roman", Times, serif;
            overflow: hidden;
        }

        #youtube-player { position: absolute; top: -500px; }

        /* --- CONTAINER UTAMA --- */
        .envelope-wrapper {
            position: relative;
            width: 300px;
            height: 200px;
            cursor: pointer;
        }

        /* Bagian Belakang Amplop */
        .envelope-back {
            position: relative;
            width: 300px;
            height: 200px;
            background-color: #f8bbd0; /* Pink Muda */
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        /* Penutup Atas (Flap) */
        .flap {
            position: absolute;
            top: 0;
            left: 0;
            border-top: 110px solid #f48fb1; /* Warna lebih gelap saat tertutup */
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            transform-origin: top;
            transition: transform 0.6s ease;
            z-index: 4; /* Di depan semua saat tertutup */
        }

        /* Kantong Depan Amplop (The Pocket) */
        .pocket {
            position: absolute;
            bottom: 0;
            left: 0;
            border-left: 150px solid #fce4ec; /* Pink sangat muda */
            border-right: 150px solid #fce4ec;
            border-bottom: 110px solid #f8bbd0;
            border-top: 100px solid transparent;
            z-index: 3; /* Menutupi surat */
        }

        /* Kertas Surat (Inside) */
        .letter-small {
            position: absolute;
            bottom: 10px;
            left: 10%;
            width: 80%;
            height: 80%;
            background: white;
            z-index: 2; /* Di antara kantong dan bagian belakang */
            transition: transform 0.8s ease;
            padding: 15px;
            box-sizing: border-box;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
            text-align: center;
        }

        .letter-small p {
            font-size: 10px;
            color: #888;
            margin: 0;
        }

        /* Emoji Hati */
        .heart {
            position: absolute;
            top: 100px;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 5;
            font-size: 35px;
            transition: 0.3s;
        }

        /* --- ANIMASI BUKA --- */
        .envelope-wrapper.open .flap {
            transform: rotateX(180deg);
            z-index: 0; /* Pindah ke belakang setelah buka */
        }

        .envelope-wrapper.open .letter-small {
            transform: translateY(-130px); /* Surat meluncur keluar */
        }

        .envelope-wrapper.open .heart {
            opacity: 0;
        }

        /* --- TAMPILAN SURAT FULL (Long Story) --- */
        .full-letter-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 100;
            overflow-y: auto;
            padding: 50px 25px;
            box-sizing: border-box;
            font-style: italic;
            animation: fadeIn 1.2s forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .content {
            max-width: 600px;
            margin: 0 auto;
            line-height: 2;
            font-size: 1.2em;
            text-align: justify;
            color: #333;
        }

        .content h2 { font-weight: normal; text-align: center; margin-bottom: 50px; }

        .photo-frame {
            width: 100%;
            margin: 35px 0;
            text-align: center;
        }

        .photo-frame img {
            max-width: 100%;
            height: auto;
            border: 10px solid #fff;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .footer-sig { text-align: center; margin-top: 60px; padding-bottom: 50px; }

        #musicToggle {
            position: fixed; top: 15px; right: 15px; z-index: 101;
            background: #f48fb1; color: white; border-radius: 50%;
            width: 40px; height: 40px; display: none; border: none; cursor: pointer;
        }
    </style>
</head>
<body>

    <!-- Musik YouTube -->
    <div id="youtube-player"></div>
    <button id="musicToggle" onclick="toggleMusic()">üéµ</button>

    <!-- AMPLOP -->
    <div class="envelope-wrapper" id="wrapper" onclick="startOpening()">
        <div class="flap"></div>
        <div class="pocket"></div>
        <div class="letter-small">
            <p>Untukmu...</p>
        </div>
        <div class="envelope-back"></div>
        <div class="heart">‚ù§Ô∏è</div>
    </div>

    <!-- SURAT FULL SCREEN -->
    <div class="full-letter-overlay" id="overlay">
        <div class="content">
            <h2>Jakarta, 2024</h2>
            
            <p>
                Bagian ini adalah awal dari ceritamu. Kamu bisa menuliskan bagaimana semuanya bermula. Gunakan Times New Roman Italic untuk memberikan kesan klasik seperti surat cinta sungguhan di dalam film. "I‚Äôve known you for a while, but it feels like I‚Äôve finally found the one."
            </p>

            <div class="photo-frame">
                <img src="foto1.jpg.JPG" alt="Memory 1">
            </div>

            <p>
                Lanjutkan ceritamu di sini. Mungkin menceritakan momen-momen kecil yang paling berkesan. Lagu Skyline ini akan terus mengiringi langkahmu saat membaca setiap kata yang aku tuliskan dengan penuh perasaan ini.
            </p>

            <div class="photo-frame">
                <img src="foto2.jpg.JPG" alt="Memory 2">
            </div>

            <p>
                Cerita ketiga atau bagian klimaks dari suratmu. Tuliskan harapan-harapanmu untuk masa depan kita bersama. "Promise me you‚Äôll stay by my side, through every sunrise and skyline we see."
            </p>

            <div class="photo-frame">
                <img src="foto3.jpg.JPG" alt="Memory 3">
            </div>

            <p>
                Sebagai penutup, ucapkan kata-kata yang paling ingin kamu sampaikan. Terima kasih sudah bersedia membaca surat kecil yang panjang ini sampai selesai.
            </p>

            <div class="footer-sig">
                Selamanya milikmu,<br><br>
                <strong>[Julian]</strong>
            </div>
        </div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let player;
        const videoId = '7-O08e7nE_I'; // Skyline - Official Audio

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0', width: '0', videoId: videoId,
                playerVars: { 'autoplay': 0, 'loop': 1, 'playlist': videoId }
            });
        }

        function startOpening() {
            // Putar Musik
            if (player && player.playVideo) player.playVideo();
            document.getElementById('musicToggle').style.display = 'block';

            // Jalankan Animasi Amplop
            const wrapper = document.getElementById('wrapper');
            wrapper.classList.add('open');

            // Munculkan Surat Full Screen setelah surat meluncur naik
            setTimeout(() => {
                document.getElementById('overlay').style.display = 'block';
            }, 1800);
        }

        function toggleMusic() {
            const state = player.getPlayerState();
            if (state === YT.PlayerState.PLAYING) {
                player.pauseVideo();
                document.getElementById('musicToggle').innerText = "üîá";
            } else {
                player.playVideo();
                document.getElementById('musicToggle').innerText = "üéµ";
            }
        }
    </script>
</body>
</html>
