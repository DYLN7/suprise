<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Letter</title>
    <style>
        body {
            margin: 0; padding: 0;
            background-color: #fff0f3;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh;
            font-family: "Times New Roman", Times, serif;
            overflow: hidden;
        }

        /* --- CONTAINER UTAMA --- */
        .envelope-wrapper {
            position: relative;
            width: 300px;
            height: 200px;
            cursor: pointer;
            z-index: 10;
        }

        .envelope-back {
            position: relative;
            width: 300px;
            height: 200px;
            background-color: #f8bbd0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .flap {
            position: absolute;
            top: 0; left: 0;
            border-top: 110px solid #f48fb1;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            transform-origin: top;
            transition: transform 0.6s ease;
            z-index: 4;
        }

        .pocket {
            position: absolute;
            bottom: 0; left: 0;
            border-left: 150px solid #fce4ec;
            border-right: 150px solid #fce4ec;
            border-bottom: 110px solid #f8bbd0;
            border-top: 100px solid transparent;
            z-index: 3;
        }

        .letter-small {
            position: absolute;
            bottom: 10px;
            left: 10%;
            width: 80%;
            height: 80%;
            background: white;
            z-index: 2;
            transition: transform 0.8s ease;
            padding: 15px;
            box-sizing: border-box;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
            text-align: center;
        }

        .heart {
            position: absolute;
            top: 100px;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 5;
            font-size: 35px;
            transition: 0.3s;
        }

        /* --- ANIMASI BUKA --- */
        .envelope-wrapper.open .flap {
            transform: rotateX(180deg);
            z-index: 0;
        }

        .envelope-wrapper.open .letter-small {
            transform: translateY(-130px);
        }

        .envelope-wrapper.open .heart {
            opacity: 0;
        }

        /* --- TAMPILAN SURAT FULL --- */
        .full-letter-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: white;
            z-index: 100;
            overflow-y: auto;
            padding: 50px 25px;
            box-sizing: border-box;
            font-style: italic;
            animation: fadeIn 1.2s forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .content {
            max-width: 600px;
            margin: 0 auto;
            line-height: 2;
            font-size: 1.2em;
            text-align: justify;
            color: #333;
        }

        .content h2 { font-weight: normal; text-align: center; margin-bottom: 50px; }

        .photo-frame {
            width: 100%;
            margin: 35px 0;
            text-align: center;
        }

        .photo-frame img {
            max-width: 100%;
            height: auto;
            border: 10px solid #fff;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .footer-sig { text-align: center; margin-top: 60px; padding-bottom: 50px; }

        #musicToggle {
            position: fixed; top: 15px; right: 15px; z-index: 101;
            background: #f48fb1; color: white; border-radius: 50%;
            width: 40px; height: 40px; display: none; border: none; cursor: pointer;
        }
    </style>
</head>
<body>

    <!-- AUDIO MP3 -->
    <audio id="myAudio" loop>
        <source src="lagu.mp3" type="audio/mpeg">
    </audio>

    <button id="musicToggle" onclick="toggleMusic()">üéµ</button>

    <!-- AMPLOP -->
    <div class="envelope-wrapper" id="wrapper" onclick="startOpening()">
        <div class="flap"></div>
        <div class="pocket"></div>
        <div class="letter-small">
            <p style="font-size: 12px; color: #888;">Untukmu...</p>
        </div>
        <div class="envelope-back"></div>
        <div class="heart">‚ù§Ô∏è</div>
    </div>

    <!-- SURAT FULL SCREEN -->
    <div class="full-letter-overlay" id="overlay">
        <div class="content">
            <h2>Jakarta, 2024</h2>
            
            <p>
                Seperti malam biasanya yang terasa membosankan, Aya pun berpikir malam ini akan tetap terasa sama. Namun siapa sangka saat pulang kerumah untuk melepas lelah, ada seorang pria yang sedang menunggunya. Terkejut dengan kehadiranku, dia pun tanpa sadar mengeluarkan sifat imutnya. Seperti biasa, Aya-ku tetap terlihat imut apapun yang terjadi. 
            </p>

            <div class="photo-frame">
                <img src="foto1.jpg.JPG" alt="Memory 1">
            </div>

            <p>
                "Ini semua buat aku?" tanyanya. "Iya dong, yakali aku beli kue ini buat loling." jawabku dengan candaan. Aya mengembungkan pipinya menggemaskan seperti biasa, "emang kenapa sih? ga boleh ya aku nanya?". Aku tersenyum kecil mengingat pertanyaan ini selalu keluar disetiap perdebatan kecil kami. "Aku bercanda sayang, ayo buruan make a wish sebelum kuenya dicuri loling" Kataku sembari mencubit pipinya yang mirip tupai itu. "iya iyaa bawellll". Moment indah itu membuat kami tertawa bersama-sama setelahnya.
            </p>

            <div class="photo-frame">
                <img src="foto2.jpg.JPG" alt="Memory 2">
            </div>

            <p>
                Teruntuk kekasihku, selamat ulang tahun. kata terima kasih telah lahir ke dunia ini mungkin terdengar terlalu pasaran, namun aku tetap berterima kasih karna hari-hari yang indah ini ga akan terjadi tanpa adanya kamu disini. Kata terima kasih ga akan pernah cukup untuk mengucapkan betapa bersyukurnya aku memiliki kamu, Sayangku. Semoga hari harimu selalu membahagiakan, tubuhmu diberi kesehatan dan rejekimu selalu dilancarkan. I love you for eternity, my beloved Aya.
            </p>

            <div class="photo-frame">
                <img src="foto3.jpg.JPG" alt="Memory 3">
            </div>

            <p>
                Sebagai penutup, ucapkan kata-kata yang paling ingin kamu sampaikan. Terima kasih sudah membaca surat ini sampai selesai.
            </p>

            <div class="footer-sig">
                Selamanya milikmu,<br><br>
                <strong>[Julian]</strong>
            </div>
        </div>
    </div>

    <script>
        function startOpening() {
            // 1. Putar Musik
            var audio = document.getElementById("myAudio");
            audio.play().catch(function(error) {
                console.log("Audio play failed: ", error);
            });

            // 2. Tampilkan tombol kontrol musik
            document.getElementById('musicToggle').style.display = 'block';

            // 3. Jalankan Animasi Amplop
            var wrapper = document.getElementById('wrapper');
            wrapper.classList.add('open');

            // 4. Munculkan Surat Full Screen setelah animasi selesai (1.8 detik)
            setTimeout(function() {
                document.getElementById('overlay').style.display = 'block';
            }, 1800);
        }

        function toggleMusic() {
            var audio = document.getElementById("myAudio");
            var btn = document.getElementById('musicToggle');
            if (audio.paused) {
                audio.play();
                btn.innerText = "üéµ";
            } else {
                audio.pause();
                btn.innerText = "üîá";
            }
        }
    </script>
</body>
</html>
